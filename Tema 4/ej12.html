<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Permutaciones</title>
</head>
<body>
    <h1>Generar Permutaciones de un Array</h1>
    <form id="formPermutar">
        <label for="arrayInput">Introduce un array en formato JSON (ejemplo: [1,2,3]):</label><br><br>
        <input type="text" id="arrayInput" size="50"><br><br>
        <button type="submit">Generar Permutaciones</button>
    </form>
    <pre id="resultado"></pre>

    <script>
        function permutar(arr) {
            if (arr.length === 0) return [[]];
            let resultado = [];
            for (let i = 0; i < arr.length; i++) {
                let resto = arr.slice(0, i).concat(arr.slice(i + 1));
                let permRestantes = permutar(resto);
                for (let perm of permRestantes) {
                    resultado.push([arr[i], ...perm]);
                }
            }
            return resultado;
        }

        document.getElementById('formPermutar').addEventListener('submit', function(event) {
            event.preventDefault();
            const input = document.getElementById('arrayInput').value;
            try {
                const array = JSON.parse(input);
                if (!Array.isArray(array)) throw new Error();
                const resultadoPermutaciones = permutar(array);
                let texto = "[\n";
                for (let perm of resultadoPermutaciones) {
                    texto += "  [" + perm.join(",") + "],\n";
                }
                texto = texto.slice(0, -2) + "\n]"; 
                document.getElementById('resultado').textContent = texto;
            } catch (e) {
                document.getElementById('resultado').textContent = "Error: introduce un array vÃ¡lido en formato JSON, por ejemplo [1,2,3]";
            }
        });
    </script>
</body>
</html>
